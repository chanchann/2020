https://wendeng.github.io/2019/05/14/c++%E5%9F%BA%E7%A1%80/c++11std-move%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%8E%9F%E7%90%86/


https://zhuanlan.zhihu.com/p/335994370?utm_medium=social&utm_source=ZHShareTargetIDMore&utm_oi=830078056713568256

1、左值和右值

左值与右值的根本区别在于是否允许取地址&运算符获得对应的内存地址。

一般来说，变量可以取地址，所以是左值，但是常量和临时对象等不可以取地址，所以是右值。

左值的声明符号为&，右值的声明符号为&&。

2、右值引用的作用与移动语义

我们可能在各种场合（初始化,push_back,函数返回等）调用拷贝构造函数将一个临时对象初始化给另一个对象，而这时如果是深拷贝则代价会比较大。

深拷贝对程序的影响比较大，把临时对象的内容直接移动（move）给被赋值的左值对象，效率改善将是显著的。这就产生了移动语义，右值引用是用来支持转移语义的。

移动语义可以将资源（堆，系统对象等） 从一个对象转移到另一个对象，这样能够减少不必要的临时对象的创建、拷贝以及销毁，能够大幅度提高 C++ 应用程序的性能。

3、移动语义的实现

移动语义意味着两点：

原对象不再被使用，如果对其使用会造成不可预知的后果。
所有权转移，资源的所有权被转移给新的对象。
移动语义通过移动构造函数和移动赋值操作符实现，其与拷贝构造函数类似，区别如下：

参数的符号必须为右值引用符号，即为&&。
参数不可以是常量，因为函数内需要修改参数的值
参数的成员转移后需要修改（如改为nullptr），避免临时对象的析构函数将资源释放掉。